import { describe, it, expect } from 'vitest';
import { getSurroundingPaper } from './getSurroundingPaper';
import { findPositions } from './findPositions';

describe('getSurroundingPaper', () => {
  it('should return 8', () => {
    expect(
      getSurroundingPaper(
        [
          ['@', '@', '@'],
          ['@', '.', '@'],
          ['@', '@', '@'],
        ],
        1,
        1,
      ),
    ).toEqual(8);
  });

  it('should return 5', () => {
    expect(
      getSurroundingPaper(
        [
          ['@', '@'],
          ['.', '@'],
          ['@', '@'],
        ],
        1,
        0,
      ),
    ).toEqual(5);
  });
});

describe('findPositions', () => {
  it('should return the correct positions', () => {
    expect(
      findPositions([
        ['.', '.', '@', '@', '.', '@', '@', '@', '@', '.'],
        ['@', '@', '@', '.', '@', '.', '@', '.', '@', '@'],
        ['@', '@', '@', '@', '@', '.', '@', '.', '@', '@'],
        ['@', '.', '@', '@', '@', '@', '.', '.', '@', '.'],
        ['@', '@', '.', '@', '@', '@', '@', '.', '@', '@'],
        ['.', '@', '@', '@', '@', '@', '@', '@', '.', '@'],
        ['.', '@', '.', '@', '.', '@', '.', '@', '@', '@'],
        ['@', '.', '@', '@', '@', '.', '@', '@', '@', '@'],
        ['.', '@', '@', '@', '@', '@', '@', '@', '@', '.'],
        ['@', '.', '@', '.', '@', '@', '@', '.', '@', '.'],
      ]),
    ).toEqual([
      [0, 2],
      [0, 3],
      [0, 5],
      [0, 6],
      [0, 8],
      [1, 0],
      [2, 6],
      [4, 0],
      [4, 9],
      [7, 0],
      [9, 0],
      [9, 2],
      [9, 8],
    ]);
  });

  it('should an output with length 13', () => {
    expect(
      findPositions([
        ['.', '.', '@', '@', '.', '@', '@', '@', '@', '.'],
        ['@', '@', '@', '.', '@', '.', '@', '.', '@', '@'],
        ['@', '@', '@', '@', '@', '.', '@', '.', '@', '@'],
        ['@', '.', '@', '@', '@', '@', '.', '.', '@', '.'],
        ['@', '@', '.', '@', '@', '@', '@', '.', '@', '@'],
        ['.', '@', '@', '@', '@', '@', '@', '@', '.', '@'],
        ['.', '@', '.', '@', '.', '@', '.', '@', '@', '@'],
        ['@', '.', '@', '@', '@', '.', '@', '@', '@', '@'],
        ['.', '@', '@', '@', '@', '@', '@', '@', '@', '.'],
        ['@', '.', '@', '.', '@', '@', '@', '.', '@', '.'],
      ]).length,
    ).toEqual(13);
  });
});
